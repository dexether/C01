<link rel="stylesheet" type="text/css" href="custom/datatable2/media/css/jquery.dataTables.css">
<link rel="stylesheet" type="text/css" href="custom/datatable2/resources/syntax/shCore.css">
<link href="assets/libs/jquery-notifyjs/styles/metro/notify-metro.css" rel="stylesheet" type="text/css" />
{literal}
<style type="text/css" class="init">
div.container {
width: 100%;
}
</style>
<script type="text/javascript" language="javascript" src="custom/datatable2/media/js/jquery.dataTables.js">
</script>
<script type="text/javascript" language="javascript" src="custom/datatable2/resources/syntax/shCore.js">
</script>
<script type="text/javascript" language="javascript" src="custom/datatable2/resources/demo.js">
</script>
<script type="text/javascript" language="javascript" class="init">
var table1b = $('#datatables-1').DataTable({
"language": {
"search": "<br>"
},
"scrollX": "250px",
"scrollCollapse": false,
"paging": true
});
$(document).ready(function() {
var table1b = $('#datatables-1').DataTable();
$("#datatables-1 thead th").each(function(i) {
var select = $('<select class="form-control input-sm"><option value=""></option></select>')
.appendTo($(this).empty())
.on('change', function() {
table1b.column(i)
.search('^' + $(this).val() + '$', true, false)
.draw();
});
table1b.column(i).data().unique().sort().each(function(d, j) {
select.append('<option value="' + d + '">' + d + '</option>')
});
});
});
</script>
{/literal}
<div id="main_content" class="content">
    <div class="page-heading">
        <h1><i class="icon-vcard"></i>Today</h1>
    </div>
    <div class="row">
        <div class="col-md-12">
            <div class="widget">
                <div class="widget-header">
                    <h2><strong>Report Turnover Running</strong></h2>
                    <div class="additional-btn">
                        <a href="#" class="hidden reload"><i class="icon-ccw-1"></i></a>
                        <a href="#" onclick="javascript:toggle_fullscreen()"><i class="icon-resize-full-2"></i></a>
                        <a href="#" class="widget-maximize hidden"><i class="icon-resize-full-1"></i></a>
                        <a href="#" class="widget-toggle"><i class="icon-down-open-2"></i></a>
                    </div>
                </div>
                <div class="widget-content">
                    <br>
                    <div class="table-responsive">
                        <table id="datatables-1" class="table table-striped table-bordered" cellspacing="0" width="100%">
                            <thead>
                                <tr>
                                    <th>Broker</th>
                                    <th>Rate</th>
                                    <th>Type</th>
                                    <th>Account</th>
                                    <th>Default Margin</th>
                                    <th>Free Margin</th>
                                    <th>Default TurnOver</th>
                                    <th>TurnOver</th>
                                </tr>
                            </thead>
                            <tfoot>
                            <tr>
                                <th>Broker</th>
                                <th>Rate</th>
                                <th>Type</th>
                                <th>Account</th>
                                <th>Default Margin</th>
                                <th>Equity</th>
                                <th>Default TurnOver</th>
                                <th>TurnOver</th>
                            </tr>
                            </tfoot>
                            <tbody>
                                {foreach from=$turnovers item=turnover1 key=alias}
                                {foreach from=$turnover1 item=turnover2 key=login}
                                <tr>
                                    <td>
                                        {$alias}
                                    </td>
                                    <td>
                                        {$turnover2.rate}
                                    </td>
                                    <td>
                                        {$turnover2.regular}
                                    </td>
                                    <td>
                                        {$login}
                                    </td>
                                    <td>
                                        {$turnover2.DEFAULTRATE}
                                    </td>
                                    <td>
                                        {$turnover2.EQUITY}
                                    </td>
                                    <td>
                                        {$turnover2.DEFAULTTURNOVER}
                                    </td>
                                    <td>
                                        {$turnover2.rangeturnover}
                                    </td>
                                </tr>
                                {/foreach}
                                {/foreach}
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-lg-12 portlets">
            <div class="widget">
                <div class="widget-header">
                    <h2>Selection</h2>
                    <div class="additional-btn">
                        <a href="#" class="hidden reload"><i class="icon-ccw-1"></i></a>
                        <a href="#" class="widget-toggle"><i class="icon-down-open-2"></i></a>
                        <a href="#" class="widget-close"><i class="icon-cancel-3"></i></a>
                    </div>
                </div>
                <div class="widget-content padding">
                    <div class="form-group">
                        <div class="col-sm-12">
                            <div class="row">
                                <div class="col-sm-5">
                                    <div class="input-group">
                                        <span class="input-group-addon">Forex Fix Rate Margin: (USD)</span>
                                        <input type="text" class="form-control" name="forexfixmargin" id="forexfixmargin" value="{$forexfixmarginselect}">
                                    </div>
                                </div>
                                <div class="col-sm-5">
                                    <div class="input-group">
                                        <span class="input-group-addon">Forex Fix Rate TurnOver</span>
                                        <input type="text" class="form-control" name="forexfixturnover" id="forexfixturnover" value="{$forexfixturnoverselect}">
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-sm-5">
                                    <div class="input-group">
                                        <span class="input-group-addon">Index Fix Rate Margin: (IDR)</span>
                                        <input type="text" class="form-control" name="indexfixmargin" id="indexfixmargin" value="{$indexfixmarginselect}">
                                    </div>
                                </div>
                                <div class="col-sm-5">
                                    <div class="input-group">
                                        <span class="input-group-addon">Index Fix Rate TurnOver</span>
                                        <input type="text" class="form-control" name="indexfixturnover" id="indexfixturnover" value="{$indexfixturnoverselect}">
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-sm-5">
                                    <div class="input-group">
                                        <span class="input-group-addon">Floating Rate Margin: (USD)</span>
                                        <input type="text" class="form-control" name="floatingmargin" id="floatingmargin" value="{$floatingmarginselect}">
                                    </div>
                                </div>
                                <div class="col-sm-5">
                                    <div class="input-group">
                                        <span class="input-group-addon">Floating Rate TurnOver</span>
                                        <input type="text" class="form-control" name="floatingturnover" id="floatingturnover" value="{$floatingturnoverselect}">
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-sm-5">
                                    <div class="input-group">
                                        <span class="input-group-addon">Date From</span>
                                        <input type="text" class="form-control" name="rangefrom" id="rangefrom" value="{$rangefromselect}">
                                    </div>
                                </div>
                                <div class="col-sm-5">
                                    <div class="input-group">
                                        <span class="input-group-addon">Date To</span>
                                        <input type="text" class="form-control" name="rangeto" id="rangeto" value="{$rangetoselect}">
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-sm-5">
                                    <div class="input-group">
                                        <span class="input-group-addon">Email Address</span>
                                        <input type="text" class="form-control" name="email1" id="email1" value="{$email1}">
                                    </div>
                                </div>
                                <div class="col-sm-5">
                                    <div class="input-group">
                                        <span class="input-group-addon">Subscribe</span>
                                        <select name="subscribe" id="subscribe" class="form-control">
                                            <option value="yes" {if $subscribe=="yes"} selected {/if}>yes</option>
                                            <option value="no" {if $subscribe=="no"} selected {/if}>no</option>
                                        </select>
                                        <!-- <input type="text" class="form-control" name="subscribe" id="rangeto" value="{$subscribe}"> -->
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="col-sm-12">
                            <input type="button" class="btn btn-blue-3" id="button3"
                            name="seetugas"  value="Reload Data"  class="form-control"
                            onClick="reportturnoverrunning.reloaddata(forexfixmargin.value, forexfixturnover.value, indexfixmargin.value, indexfixturnover.value, floatingmargin.value, floatingturnover.value, rangefrom.value, rangeto.value, subscribe.value, email1.value);"/>
                            
                            <input type="button" class="btn btn-blue-3" id="button3"
                            name="seetugas"  value="Save for Schedule Email"  class="form-control"
                            onClick="reportturnoverrunning.savetodtbase(forexfixmargin.value, forexfixturnover.value, indexfixmargin.value, indexfixturnover.value, floatingmargin.value, floatingturnover.value, rangefrom.value, rangeto.value, subscribe.value, email1.value);"/>
                        </div>
                    </div>
                    <br>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-sm-12 portlets">
                <div class="widget">
                    <div class="widget-header">
                        <h2><strong>&nbsp;Description</strong></h2>
                        <div class="additional-btn">
                            <a href="#" class="hidden reload"><i class="icon-ccw-1"></i></a>
                            <a href="#" class="widget-toggle"><i class="icon-down-open-2"></i></a>
                            <a href="#" class="widget-close"><i class="icon-cancel-3"></i></a>
                        </div>
                    </div>
                    <div class="widget-content padding">
                        <div id="container">
                            <div id="columns">
                                <div id="column1">
                                    <div contenteditable="true">
                                        <p>
                                            <strong>
                                            Database latest update :
                                            </strong>
                                        </p>
                                        {foreach from=$alldatabases item=alldatabase1 key=alias}
                                        <blockquote>
                                            <p>
                                                {$alias} , Time : {$alldatabase1.TIME}
                                            </p>
                                        </blockquote>
                                        {/foreach}
                                    </div>
                                </div>
                                <div id="column2">
                                    <div contenteditable="true">
                                        <p>
                                            <strong>
                                            Button
                                            </strong>
                                        </p>
                                        <p>
                                            <strong>
                                            <input type="button" class="btn btn-blue-3" id="buttontest1"
                                            name="buttontest1"  value="Save for Schedule Email"  class="form-control"
                                            />
                                            </strong>
                                        To Save the Parameter input into database. Schedule Task will use this parameter to send email to Dealing</p>
                                        <p>
                                            <strong>
                                            <input type="button" class="btn btn-blue-3" id="buttontest2"
                                            name="buttontest2"  value="Reload Data"  class="form-control"
                                            />
                                            </strong>
                                            Before Save for Schedule Email, Dealing can click this button, to check the best performance of the setting, example
                                            if the range date to far, dealing can edit it, example per 7 days
                                        </p>
                                    </div>
                                </div>
                                <div id="column3">
                                    <div contenteditable="true">
                                        <p>
                                            <strong>
                                            Content
                                            </strong>
                                        </p>
                                        <p>
                                            The content will be reload based on the database shown on this Database based on the range Date From and Date To Selected. You can filer based on the Filter box on the header row.
                                        </p>
                                        <p>
                                            Currently the system will check, if it is mini account, then the Default Margin will be Reguler Margin / 10 , and also check if TurnOver > TurnOver from parameter, the data will be shown.
                                        </p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="custom/js/jquery.validate.min.js" type="text/javascript"></script>
<script src="assets/libs/bootstrap-inputmask/inputmask.js"></script>
{literal}
<script src="custom/js/report_turnover_running.js" type="text/javascript"></script>
<script>
jQuery(document).ready(function() {
reportturnoverrunning.init();
});
</script>
{/literal}
<script src="assets/libs/jquery-notifyjs/notify.min.js"></script>
<script src="assets/libs/jquery-notifyjs/styles/metro/notify-metro.js"></script>
<script src="custom/js/noty_general.js"></script>