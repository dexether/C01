/* Shield UI 1.7.3 Trial Version | Copyright 2013-2014 Shield UI Ltd. | www.shieldui.com/eula */
!function(a,c,h){"use strict";{var f,d=c.ui.Widget,e=document,i=navigator.userAgent,j=h.opera,k=/msie/i.test(i)&&!j,g=k&&7===e.documentMode;a.extend}f={show:!1,showImage:!0,text:null,template:null,useSmallImage:!1};var b=d.extend({init:function(){var a=this;d.fn.init.apply(a,arguments),a.refresh(),a.options.show?a.show():a.hide()},destroy:function(){var b=this;a(b.mainElement).remove(),b.options.showImage&&(a(b.loadingImage).remove(),b.loadingImage=null),b.loadingText&&(a(b.loadingText).remove(),b.loadingText=null),a(b.backgroundElement).remove(),b.mainElement=null,b.backgroundElement=null,b.template=null,d.fn.destroy.call(b)},_render:function(){var b=this,f=b.options,c=f.template,d=a("<div/>").appendTo(e.body);if(b.mainElement=d,d.addClass("sui-loading-panel sui-loading-panel-core"),g&&d.addClass("sui-loading-panel-core-ie7"),c){c=a(c.replace(/^\s\s*/,"").replace(/\s\s*$/,"")),c.appendTo(e.body);var j=Math.ceil((b.element.height()-c.height())/2),k=Math.ceil((b.element.width()-c.width())/2);c.css({"z-index":"inherit",position:"relative",dispaly:"block",top:j+"px",left:k+"px"}).appendTo(d),b.template=c}else{if(f.showImage){var h=a("<span/>").appendTo(d);b.loadingImage=h,h.addClass(f.useSmallImage?"sui-loading-image-small":"sui-loading-image")}f.text&&b._generateTextElement()}var i=a("<span/>").appendTo(d);b.backgroundElement=i,i.addClass("sui-loading-back"),b._setPosition()},_generateTextElement:function(){var b=a("<span/>").appendTo(this.mainElement);b.get(0).innerHTML=this.options.text,b.addClass("sui-loading-text"),this.loadingText=b},_getMaxZIndex:function(){var b=0;return a("div").each(function(){var c=parseInt(a(this).css("z-index"),10);c>b&&(b=c)}),b},refresh:function(){var a=this,b=(a.options,a.mainElement&&"none"!=a.mainElement.css("display")?!1:!0);a.destroy(),a._render(),b?a.hide():a.show()},_setPosition:function(){var a=this,d=(a.options,a.element),c=d.offset(),b=a._getMaxZIndex()+1;a.mainElement.css({left:Math.ceil(c.left)+"px",top:Math.ceil(c.top)+"px","z-index":b}),g&&(a.loadingText&&a.loadingText.css({"z-index":b+1}),a.loadingImage&&a.loadingImage.css({"z-index":b+1}),a.template&&a.template.css("z-index",b+1))},_setElementsPosition:function(){var a=this,e=a.element.height(),b=a.loadingImage,c=a.loadingText,f=b?b.height():0,g=c?c.height():0,d=Math.ceil((e-f-g)/2);b&&a.loadingImage.css("top",d+"px"),c&&a.loadingText.css("top",d+"px")},show:function(){var a=this,c=a.options,b=a.element;a.mainElement.width(b.get(0).offsetWidth),a.mainElement.height(b.get(0).offsetHeight),a._setPosition(),a.mainElement.css("display",""),c.template||a._setElementsPosition()},hide:function(){this.mainElement.css("display","none")},setText:function(a){this.options.text=a,this.refresh()}});b.defaults=f,c.ui.plugin("LoadingPanel",b),c.ui.LoadingPanel=b}(jQuery,shield,this);